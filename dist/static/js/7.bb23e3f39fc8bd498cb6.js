webpackJsonp([7],{"/x0Z":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),n=a("Gu7T"),o=a.n(n),r=a("exGp"),c=a.n(r),l=a("gm1x"),h=a("TQvf"),p=a.n(h),u=a("4vvA"),d=a.n(u),v=a("vVZ/"),f=a("/7ID"),w={components:{TopHead:v.a,NoDataText:f.a},data:function(){return{popupShow:!1,url:"『北欧优品，好货精选』https://www.40hs.com",kw:"",msg:"",cateName:"",loadingShow:!0,finished:!1,noDataTextShow:!1,pageNum:1,pageSize:10,list:[]}},created:function(){this.kw=this.$route.query.kw,this.cateName=this.kw.length>8?this.kw.substring(0,8)+"...":this.kw,this.getSearchList()},methods:{share:function(){this.popupShow=!0},copyShare:function(){var t=this,e=new p.a(".btn");e.on("success",function(e){d()("复制成功"),t.popupShow=!1}),e.on("error",function(t){d()("复制失败，请手动复制")})},gotoSearchPage:function(){this.$router.push({name:"search"})},onClickLeft:function(){this.$router.push({name:"search"})},onClickRight:function(){d()("按钮")},getSearchList:function(){var t=this;return c()(i.a.mark(function e(){var a,s,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={kw:t.kw,page_num:t.pageNum,page_size:t.pageSize},e.next=3,Object(l.y)(a);case 3:0===(s=e.sent).code&&s.data?(t.url="『北欧优品』精选"+t.kw+"，链接地址："+window.location.href,n=s.data,1==t.pageNum&&0===n.length&&(t.msg="啊噢，欧欧暂时还没有收集该类产品噢"),0===n.length?(t.noDataTextShow=!0,t.finished=!0):(t.list=[].concat(o()(t.list),o()(n)),t.pageNum++)):t.$Notice.error({title:"获取商品列表失败",desc:s.message}),t.loadingShow=!1;case 6:case"end":return e.stop()}},e,t)}))()},loadMore:function(){this.loadingShow=!0,this.getSearchList()},finalPrice:function(t,e){if(!e)return t;try{return(t-(e?e.split("减")[1]:"").split("元")[0]).toFixed(2)}catch(t){}}},destroyed:function(){},watch:{$route:function(t,e){"search"==e.name&&(this.msg="",this.kw=this.$route.query.kw,this.cateName=this.kw.length>8?this.kw.substring(0,8)+"...":this.kw,this.loadingShow=!0,this.finished=!1,this.pageNum=1,this.pageSize=10,this.list=[],this.getSearchList())}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cate-items"}},[s("van-nav-bar",{attrs:{title:t.cateName,"left-text":"返回","right-text":"分享","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft,"click-right":t.share}}),t._v(" "),s("div",{staticStyle:{width:"100%"}},[s("van-popup",{staticClass:"sharePopup",model:{value:t.popupShow,callback:function(e){t.popupShow=e},expression:"popupShow"}},[s("van-notice-bar",{attrs:{scrollable:!1}},[t._v("分享给好友\n\t\t")]),t._v(" "),s("p",{attrs:{id:"shareTxt"},domProps:{textContent:t._s(t.url)}}),t._v(" "),s("van-button",{staticClass:"btn",staticStyle:{width:"94%",margin:"8px auto 0",height:"44px","font-size":"16px"},attrs:{"data-clipboard-target":"#shareTxt",type:"danger"},on:{click:t.copyShare}},[t._v("复制链接分享")])],1)],1),t._v(" "),s("div",{attrs:{id:"list"}},[s("ul",[s("van-list",{attrs:{finished:t.finished,offset:200},on:{load:t.loadMore},model:{value:t.loadingShow,callback:function(e){t.loadingShow=e},expression:"loadingShow"}},t._l(t.list,function(e){return s("li",[s("router-link",{attrs:{to:"/item/"+e.num_iid}},[s("van-card",{attrs:{title:e.title,thumb:e.thumb_pic_url?e.thumb_pic_url:e.pict_url}},[s("div",{attrs:{slot:"desc"},slot:"desc"},[s("div",{staticClass:"shop-type"},[1==e.user_type?s("img",{staticClass:"shop-type-pic",attrs:{src:a("QSUK")}}):s("img",{staticClass:"shop-type-pic",attrs:{src:a("HhO2")}})]),t._v(" "),s("div",{staticClass:"tags"},[t._l(e.tags,function(e){return[s("van-tag",{attrs:{plain:"",type:"primary"}},[t._v(t._s(e.name))])]})],2),t._v(" "),s("div",{staticClass:"quan"},[s("van-tag",{directives:[{name:"show",rawName:"v-show",value:e.coupon_info,expression:"item.coupon_info"}],attrs:{plain:"",type:"danger"}},[s("span",{staticClass:"quan-head"},[t._v("券")]),t._v("\n\t\t\t\t  \t\t\t\t"+t._s(e.coupon_info?e.coupon_info.split("减")[1]:"")+"\n\t\t\t\t  \t\t\t")])],1),t._v(" "),s("div",{staticClass:"volume"},[t._v("\n\t\t\t\t  \t\t\t\t"+t._s(e.volume)+"人已买\n\t\t\t  \t\t\t")]),t._v(" "),s("div",{staticClass:"price"},[s("div",{staticClass:"final-price"},[t._v("\n\t\t\t\t  \t\t\t\t￥"),s("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.finalPrice(e.zk_final_price_wap,e.coupon_info)))])]),t._v(" "),s("div",{staticClass:"reserve-price"},[t._v("\n\t\t\t\t  \t\t\t\t￥"+t._s(e.reserve_price)+"\n\t\t\t\t  \t\t\t")])])])])],1)],1)}))],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],staticStyle:{padding:"12px 0","text-align":"center","font-size":"15px"}},[t._v("\n\t\t\t"+t._s(t.msg)+"\n\t\t")]),t._v(" "),s("div",{staticClass:"loading"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.noDataTextShow,expression:"noDataTextShow"}],staticClass:"no-data-text"},[s("no-data-text")],1)])])],1)},staticRenderFns:[]};var _=a("VU/8")(w,g,!1,function(t){a("wIod")},null,null);e.default=_.exports},wIod:function(t,e){}});