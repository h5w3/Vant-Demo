webpackJsonp([10],{"5WCG":function(t,e){},P7ry:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),o=n("exGp"),i=n.n(o),s=n("4vvA"),u=n.n(s),c=n("gm1x"),l={components:{},data:function(){return{inviterShow:!1,phone_num:null,yzm:null,waitShow:!1,btnTxt:"发送验证码",yzmBtnStatus:!1,loginLoadingStatus:!1,phoneReg:/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/,yzmReg:/^\d{4}$/}},created:function(){document.title="登录"},methods:{getYzm:function(){var t=this;return i()(r.a.mark(function e(){var n,a,o,i,s,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.phone_num){e.next=3;break}return u()("手机号不能为空！"),e.abrupt("return");case 3:if(t.phoneReg.test(t.phone_num)){e.next=6;break}return u()("请输入正确的手机号！"),e.abrupt("return");case 6:return n=location.href,a=document.title,o={url:n,title:a,phone_num:t.phone_num},e.next=11,Object(c.w)(o);case 11:0===(i=e.sent).code&&!0===i.ret?(u()({duration:1e3,message:"验证码发送成功，请注意查收！"}),s=60,l=setInterval(function(){if(1==s)return clearInterval(l),t.yzmBtnStatus=!1,void(t.btnTxt="获取验证码");s-=1,t.btnTxt=s+"秒后重发",t.yzmBtnStatus=!0},1e3)):u()(i.message);case 13:case"end":return e.stop()}},e,t)}))()},login:function(){var t=this;return i()(r.a.mark(function e(){var n,a,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.phone_num){e.next=3;break}return u()("手机号不能为空！"),e.abrupt("return");case 3:if(t.phoneReg.test(t.phone_num)){e.next=6;break}return u()("手机号格式不正确！"),e.abrupt("return");case 6:if(t.yzmReg.test(t.yzm)){e.next=9;break}return u()("请输入正确的4位数验证码"),e.abrupt("return");case 9:return t.loginLoadingStatus=!0,n=location.href,a=document.title,o={url:n,title:a,phone_num:t.phone_num,yzm:t.yzm},e.next=15,Object(c.z)(o);case 15:0===(i=e.sent).code&&!0===i.ret?(u()({duration:600,message:"登录成功！"}),localStorage.setItem("token_u",i.token),localStorage.setItem("name",t.phone_num),t.$router.go(-1)):(u()(i.message),t.loginLoadingStatus=!1);case 17:case"end":return e.stop()}},e,t)}))()},notLogin:function(){this.$router.go(-1)}},destroyed:function(){document.title="北欧优品，好货精选"}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{attrs:{id:"login"}},[t._m(0),t._v(" "),n("van-cell-group",{staticStyle:{"margin-bottom":"15px"}},[n("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号",icon:"clear"},on:{"click-icon":function(e){t.phone_num=""}},model:{value:t.phone_num,callback:function(e){t.phone_num=e},expression:"phone_num"}}),t._v(" "),n("van-field",{attrs:{center:"",label:"验证码",placeholder:"请输入短信验证码",icon:"clear"},on:{"click-icon":function(e){t.yzm=""}},model:{value:t.yzm,callback:function(e){t.yzm=e},expression:"yzm"}},[n("van-button",{attrs:{slot:"button",size:"small",type:"primary",disabled:t.yzmBtnStatus},on:{click:t.getYzm},slot:"button"},[t._v("\n\t\t\t    \t"+t._s(t.btnTxt)+"\n\t\t\t    ")])],1)],1),t._v(" "),n("van-button",{attrs:{type:"primary",size:"large",loading:t.loginLoadingStatus},on:{click:t.login}},[t._v("快捷登录")])],1),t._v(" "),t._m(1),t._v(" "),n("van-icon",{staticStyle:{"font-size":"30px",position:"fixed",bottom:"30px",left:"50%","margin-left":"-15px"},attrs:{name:"close"},on:{click:t.notLogin}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{padding:"25px 0 15px",width:"100%",height:"60px","text-align":"center"}},[e("img",{staticStyle:{width:"60px",height:"auto"},attrs:{src:"/static/img/favicon.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tips"},[e("h3",[this._v("温馨提示")]),this._v(" "),e("p",[this._v("1、登录之后可将喜欢的商品保存，并可通过链接直接分享给好友查看；")]),this._v(" "),e("p",[this._v("2、您的手机号将安全地存储在阿里云服务器，我们承诺不会主动给您推送促销信息，并确保您的手机号不被泄露，请您放心使用！")])])}]};var p=n("VU/8")(l,m,!1,function(t){n("5WCG")},null,null);e.default=p.exports}});